import{s as Tl,f as i,a as D,l as C,g as u,h as d,c as M,m as U,d as o,R as It,j as a,i as Z,r as l,Q as ne,u as $,O as Dl,n as x,K as il,v as Tt,w as ul,P as Ml,o as Al,t as dl,k as jt,p as yl,z as cl,A as fl,C as Ht,S as pl,e as hl,Y as Vl}from"../chunks/scheduler.4a29073b.js";import{S as Pl,i as Rl,t as lt,c as El,a as Qe,g as Il,f as Nl,b as Sl,d as Bl,m as Cl,e as Ul}from"../chunks/index.10afcf02.js";import{e as yt}from"../chunks/each.8348a957.js";import{a as Et}from"../chunks/Toaster.svelte_svelte_type_style_lang.622c7c00.js";import{g as Ll}from"../chunks/navigation.88a60950.js";import{m as Ol,i as jl}from"../chunks/index.3cc0610f.js";import{A as Hl}from"../chunks/AdvancedParams.265a2f0f.js";import{s as zl}from"../chunks/index.1bdba4f5.js";import{e as Fl}from"../chunks/index.0b44bc8f.js";import{a as xl,c as Wl,g as Yl}from"../chunks/index.0a3592ef.js";function ml(s,t,e){const r=s.slice();return r[46]=t[e],r[47]=t,r[48]=e,r}function _l(s,t,e){const r=s.slice();return r[49]=t[e],r[50]=t,r[51]=e,r}function ql(s){let t,e;return{c(){t=cl("svg"),e=cl("path"),this.h()},l(r){t=fl(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var n=d(t);e=fl(n,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),d(e).forEach(o),n.forEach(o),this.h()},h(){a(e,"fill-rule","evenodd"),a(e,"d","M12 3.75a.75.75 0 01.75.75v6.75h6.75a.75.75 0 010 1.5h-6.75v6.75a.75.75 0 01-1.5 0v-6.75H4.5a.75.75 0 010-1.5h6.75V4.5a.75.75 0 01.75-.75z"),a(e,"clip-rule","evenodd"),a(t,"xmlns","http://www.w3.org/2000/svg"),a(t,"viewBox","0 0 24 24"),a(t,"fill","currentColor"),a(t,"class","w-8")},m(r,n){Z(r,t,n),l(t,e)},p:Ht,d(r){r&&o(t)}}}function Xl(s){let t,e;return{c(){t=i("img"),this.h()},l(r){t=u(r,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){pl(t.src,e=s[9])||a(t,"src",e),a(t,"alt","modelfile profile"),a(t,"class","rounded-full w-20 h-20 object-cover")},m(r,n){Z(r,t,n)},p(r,n){n[0]&512&&!pl(t.src,e=r[9])&&a(t,"src",e)},d(r){r&&o(t)}}}function Jl(s){let t,e=s[18].t("Builder Mode")+"",r;return{c(){t=i("span"),r=C(e),this.h()},l(n){t=u(n,"SPAN",{class:!0});var f=d(t);r=U(f,e),f.forEach(o),this.h()},h(){a(t,"class","ml-2 self-center")},m(n,f){Z(n,t,f),l(t,r)},p(n,f){f[0]&262144&&e!==(e=n[18].t("Builder Mode")+"")&&x(r,e)},d(n){n&&o(t)}}}function Zl(s){let t,e=s[18].t("Raw Format")+"",r;return{c(){t=i("span"),r=C(e),this.h()},l(n){t=u(n,"SPAN",{class:!0});var f=d(t);r=U(f,e),f.forEach(o),this.h()},h(){a(t,"class","ml-2 self-center")},m(n,f){Z(n,t,f),l(t,r)},p(n,f){f[0]&262144&&e!==(e=n[18].t("Raw Format")+"")&&x(r,e)},d(n){n&&o(t)}}}function Gl(s){let t,e,r=s[18].t("From (Base Model)")+"",n,f,A,v,h,R,k,T=s[18].t("To access the available model names for downloading,")+"",_,E,m,b=s[18].t("click here.")+"",O,Y,V,H,P=s[18].t("System Prompt")+"",q,p,y,w,j,z,F,G=s[18].t("Modelfile Advanced Settings")+"",ie,Me,ue,Ae,pe,J,Ve,Se;function ve(I,L){return I[14]?$l:Ql}let he=ve(s),K=he(s),W=s[14]&&vl(s);return{c(){t=i("div"),e=i("div"),n=C(r),f=C("*"),A=D(),v=i("div"),h=i("input"),R=D(),k=i("div"),_=C(T),E=D(),m=i("a"),O=C(b),Y=D(),V=i("div"),H=i("div"),q=C(P),p=D(),y=i("div"),w=i("textarea"),j=D(),z=i("div"),F=i("div"),ie=C(G),Me=D(),ue=i("button"),K.c(),Ae=D(),W&&W.c(),pe=hl(),this.h()},l(I){t=u(I,"DIV",{class:!0});var L=d(t);e=u(L,"DIV",{class:!0});var Ee=d(e);n=U(Ee,r),f=U(Ee,"*"),Ee.forEach(o),A=M(L),v=u(L,"DIV",{});var se=d(v);h=u(se,"INPUT",{class:!0,placeholder:!0}),se.forEach(o),R=M(L),k=u(L,"DIV",{class:!0});var Ie=d(k);_=U(Ie,T),E=M(Ie),m=u(Ie,"A",{class:!0,href:!0,target:!0});var Be=d(m);O=U(Be,b),Be.forEach(o),Ie.forEach(o),L.forEach(o),Y=M(I),V=u(I,"DIV",{class:!0});var de=d(V);H=u(de,"DIV",{class:!0});var be=d(H);q=U(be,P),be.forEach(o),p=M(de),y=u(de,"DIV",{});var g=d(y);w=u(g,"TEXTAREA",{class:!0,placeholder:!0,rows:!0}),d(w).forEach(o),g.forEach(o),de.forEach(o),j=M(I),z=u(I,"DIV",{class:!0});var S=d(z);F=u(S,"DIV",{class:!0});var we=d(F);ie=U(we,G),we.forEach(o),Me=M(S),ue=u(S,"BUTTON",{class:!0,type:!0});var me=d(ue);K.l(me),me.forEach(o),S.forEach(o),Ae=M(I),W&&W.l(I),pe=hl(),this.h()},h(){a(e,"class","text-xs font-semibold mb-2"),a(h,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),a(h,"placeholder","Write a modelfile base model name (e.g. llama2, mistral)"),h.required=!0,a(m,"class","text-gray-500 dark:text-gray-300 font-medium"),a(m,"href","https://ollama.com/library"),a(m,"target","_blank"),a(k,"class","mt-1 text-xs text-gray-400 dark:text-gray-500"),a(t,"class","my-2"),a(H,"class","text-xs font-semibold mb-2"),a(w,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg -mb-1"),a(w,"placeholder",`Write your modelfile system prompt content here
e.g.) You are Mario from Super Mario Bros, acting as an assistant.`),a(w,"rows","4"),a(V,"class","my-1"),a(F,"class","self-center text-sm font-semibold"),a(ue,"class","p-1 px-3 text-xs flex rounded transition"),a(ue,"type","button"),a(z,"class","flex w-full justify-between")},m(I,L){Z(I,t,L),l(t,e),l(e,n),l(e,f),l(t,A),l(t,v),l(v,h),ne(h,s[2]),l(t,R),l(t,k),l(k,_),l(k,E),l(k,m),l(m,O),Z(I,Y,L),Z(I,V,L),l(V,H),l(H,q),l(V,p),l(V,y),l(y,w),ne(w,s[3]),Z(I,j,L),Z(I,z,L),l(z,F),l(F,ie),l(z,Me),l(z,ue),K.m(ue,null),Z(I,Ae,L),W&&W.m(I,L),Z(I,pe,L),J=!0,Ve||(Se=[$(h,"input",s[32]),$(w,"input",s[33]),$(ue,"click",s[34])],Ve=!0)},p(I,L){(!J||L[0]&262144)&&r!==(r=I[18].t("From (Base Model)")+"")&&x(n,r),L[0]&4&&h.value!==I[2]&&ne(h,I[2]),(!J||L[0]&262144)&&T!==(T=I[18].t("To access the available model names for downloading,")+"")&&x(_,T),(!J||L[0]&262144)&&b!==(b=I[18].t("click here.")+"")&&x(O,b),(!J||L[0]&262144)&&P!==(P=I[18].t("System Prompt")+"")&&x(q,P),L[0]&8&&ne(w,I[3]),(!J||L[0]&262144)&&G!==(G=I[18].t("Modelfile Advanced Settings")+"")&&x(ie,G),he===(he=ve(I))&&K?K.p(I,L):(K.d(1),K=he(I),K&&(K.c(),K.m(ue,null))),I[14]?W?(W.p(I,L),L[0]&16384&&Qe(W,1)):(W=vl(I),W.c(),Qe(W,1),W.m(pe.parentNode,pe)):W&&(Il(),lt(W,1,1,()=>{W=null}),El())},i(I){J||(Qe(W),J=!0)},o(I){lt(W),J=!1},d(I){I&&(o(t),o(Y),o(V),o(j),o(z),o(Ae),o(pe)),K.d(),W&&W.d(I),Ve=!1,Tt(Se)}}}function Kl(s){let t,e,r=s[18].t("Content")+"",n,f,A,v,h,R,k,T=s[18].t("Not sure what to write? Switch to")+"",_,E,m,b=s[18].t("Builder Mode")+"",O,Y,V,H=s[18].t("Click here to check other modelfiles.")+"",P,q,p;return{c(){t=i("div"),e=i("div"),n=C(r),f=C("*"),A=D(),v=i("div"),h=i("textarea"),R=D(),k=i("div"),_=C(T),E=D(),m=i("button"),O=C(b),Y=C(`\r
								or\r
								`),V=i("a"),P=C(H),this.h()},l(y){t=u(y,"DIV",{class:!0});var w=d(t);e=u(w,"DIV",{class:!0});var j=d(e);n=U(j,r),f=U(j,"*"),j.forEach(o),A=M(w),v=u(w,"DIV",{});var z=d(v);h=u(z,"TEXTAREA",{class:!0,placeholder:!0,rows:!0}),d(h).forEach(o),z.forEach(o),R=M(w),k=u(w,"DIV",{class:!0});var F=d(k);_=U(F,T),E=M(F),m=u(F,"BUTTON",{class:!0,type:!0});var G=d(m);O=U(G,b),G.forEach(o),Y=U(F,`\r
								or\r
								`),V=u(F,"A",{class:!0,href:!0,target:!0});var ie=d(V);P=U(ie,H),ie.forEach(o),F.forEach(o),w.forEach(o),this.h()},h(){a(e,"class","text-xs font-semibold mb-2"),a(h,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),a(h,"placeholder",`FROM llama2
PARAMETER temperature 1
SYSTEM """
You are Mario from Super Mario Bros, acting as an assistant.
"""`),a(h,"rows","6"),h.required=!0,a(m,"class","text-gray-500 dark:text-gray-300 font-medium cursor-pointer"),a(m,"type","button"),a(V,"class","text-gray-500 dark:text-gray-300 font-medium"),a(V,"href","https://openwebui.com"),a(V,"target","_blank"),a(k,"class","text-xs text-gray-400 dark:text-gray-500"),a(t,"class","mt-2")},m(y,w){Z(y,t,w),l(t,e),l(e,n),l(e,f),l(t,A),l(t,v),l(v,h),ne(h,s[15]),l(t,R),l(t,k),l(k,_),l(k,E),l(k,m),l(m,O),l(k,Y),l(k,V),l(V,P),q||(p=[$(h,"input",s[30]),$(m,"click",s[31])],q=!0)},p(y,w){w[0]&262144&&r!==(r=y[18].t("Content")+"")&&x(n,r),w[0]&32768&&ne(h,y[15]),w[0]&262144&&T!==(T=y[18].t("Not sure what to write? Switch to")+"")&&x(_,T),w[0]&262144&&b!==(b=y[18].t("Builder Mode")+"")&&x(O,b),w[0]&262144&&H!==(H=y[18].t("Click here to check other modelfiles.")+"")&&x(P,H)},i:Ht,o:Ht,d(y){y&&o(t),q=!1,Tt(p)}}}function Ql(s){let t,e=s[18].t("Default")+"",r;return{c(){t=i("span"),r=C(e),this.h()},l(n){t=u(n,"SPAN",{class:!0});var f=d(t);r=U(f,e),f.forEach(o),this.h()},h(){a(t,"class","ml-2 self-center")},m(n,f){Z(n,t,f),l(t,r)},p(n,f){f[0]&262144&&e!==(e=n[18].t("Default")+"")&&x(r,e)},d(n){n&&o(t)}}}function $l(s){let t,e=s[18].t("Custom")+"",r;return{c(){t=i("span"),r=C(e),this.h()},l(n){t=u(n,"SPAN",{class:!0});var f=d(t);r=U(f,e),f.forEach(o),this.h()},h(){a(t,"class","ml-2 self-center")},m(n,f){Z(n,t,f),l(t,r)},p(n,f){f[0]&262144&&e!==(e=n[18].t("Custom")+"")&&x(r,e)},d(n){n&&o(t)}}}function vl(s){let t,e,r=s[18].t("Template")+"",n,f,A,v,h,R,k,T=s[18].t("Parameters")+"",_,E,m,b,O,Y,V,H;function P(p){s[36](p)}let q={};return s[5]!==void 0&&(q.options=s[5]),b=new Hl({props:q}),yl.push(()=>Nl(b,"options",P)),{c(){t=i("div"),e=i("div"),n=C(r),f=D(),A=i("div"),v=i("textarea"),h=D(),R=i("div"),k=i("div"),_=C(T),E=D(),m=i("div"),Sl(b.$$.fragment),this.h()},l(p){t=u(p,"DIV",{class:!0});var y=d(t);e=u(y,"DIV",{class:!0});var w=d(e);n=U(w,r),w.forEach(o),f=M(y),A=u(y,"DIV",{});var j=d(A);v=u(j,"TEXTAREA",{class:!0,placeholder:!0,rows:!0}),d(v).forEach(o),j.forEach(o),y.forEach(o),h=M(p),R=u(p,"DIV",{class:!0});var z=d(R);k=u(z,"DIV",{class:!0});var F=d(k);_=U(F,T),F.forEach(o),E=M(z),m=u(z,"DIV",{});var G=d(m);Bl(b.$$.fragment,G),G.forEach(o),z.forEach(o),this.h()},h(){a(e,"class","text-xs font-semibold mb-2"),a(v,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg -mb-1"),a(v,"placeholder","Write your modelfile template content here"),a(v,"rows","4"),a(t,"class","my-2"),a(k,"class","text-xs font-semibold mb-2"),a(R,"class","my-2")},m(p,y){Z(p,t,y),l(t,e),l(e,n),l(t,f),l(t,A),l(A,v),ne(v,s[4]),Z(p,h,y),Z(p,R,y),l(R,k),l(k,_),l(R,E),l(R,m),Cl(b,m,null),Y=!0,V||(H=$(v,"input",s[35]),V=!0)},p(p,y){(!Y||y[0]&262144)&&r!==(r=p[18].t("Template")+"")&&x(n,r),y[0]&16&&ne(v,p[4]),(!Y||y[0]&262144)&&T!==(T=p[18].t("Parameters")+"")&&x(_,T);const w={};!O&&y[0]&32&&(O=!0,w.options=p[5],Vl(()=>O=!1)),b.$set(w)},i(p){Y||(Qe(b.$$.fragment,p),Y=!0)},o(p){lt(b.$$.fragment,p),Y=!1},d(p){p&&(o(t),o(h),o(R)),Ul(b),V=!1,H()}}}function gl(s){let t,e,r,n,f,A='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',v,h,R;function k(){s[38].call(e,s[50],s[51])}function T(){return s[39](s[51])}return{c(){t=i("div"),e=i("input"),n=D(),f=i("button"),f.innerHTML=A,v=D(),this.h()},l(_){t=u(_,"DIV",{class:!0});var E=d(t);e=u(E,"INPUT",{class:!0,placeholder:!0}),n=M(E),f=u(E,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),It(f)!=="svelte-1tpj1wu"&&(f.innerHTML=A),v=M(E),E.forEach(o),this.h()},h(){a(e,"class","px-3 py-1.5 text-sm w-full bg-transparent outline-none border-r dark:border-gray-600"),a(e,"placeholder",r=s[18].t("Write a prompt suggestion (e.g. Who are you?)")),a(f,"class","px-2"),a(f,"type","button"),a(t,"class","flex border dark:border-gray-600 rounded-lg")},m(_,E){Z(_,t,E),l(t,e),ne(e,s[49].content),l(t,n),l(t,f),l(t,v),h||(R=[$(e,"input",k),$(f,"click",T)],h=!0)},p(_,E){s=_,E[0]&262144&&r!==(r=s[18].t("Write a prompt suggestion (e.g. Who are you?)"))&&a(e,"placeholder",r),E[0]&65536&&e.value!==s[49].content&&ne(e,s[49].content)},d(_){_&&o(t),h=!1,Tt(R)}}}function bl(s){let t,e,r,n,f=s[46]+"",A,v,h,R;function k(){s[40].call(e,s[46])}return{c(){t=i("div"),e=i("input"),r=D(),n=i("div"),A=C(f),v=D(),this.h()},l(T){t=u(T,"DIV",{class:!0});var _=d(t);e=u(_,"INPUT",{type:!0}),r=M(_),n=u(_,"DIV",{class:!0});var E=d(n);A=U(E,f),E.forEach(o),v=M(_),_.forEach(o),this.h()},h(){a(e,"type","checkbox"),a(n,"class","capitalize"),a(t,"class","flex space-x-2 text-sm")},m(T,_){Z(T,t,_),l(t,e),e.checked=s[17][s[46]],l(t,r),l(t,n),l(n,A),l(t,v),h||(R=$(e,"change",k),h=!0)},p(T,_){s=T,_[0]&131072&&(e.checked=s[17][s[46]]),_[0]&131072&&f!==(f=s[46]+"")&&x(A,f)},d(T){T&&o(t),h=!1,R()}}}function wl(s){let t,e,r=s[18].t("Pull Progress")+"",n,f,A,v,h=(s[11]??0)+"",R,k,T,_,E;return{c(){t=i("div"),e=i("div"),n=C(r),f=D(),A=i("div"),v=i("div"),R=C(h),k=C("%"),T=D(),_=i("div"),E=C(s[10]),this.h()},l(m){t=u(m,"DIV",{class:!0});var b=d(t);e=u(b,"DIV",{class:!0});var O=d(e);n=U(O,r),O.forEach(o),f=M(b),A=u(b,"DIV",{class:!0});var Y=d(A);v=u(Y,"DIV",{class:!0,style:!0});var V=d(v);R=U(V,h),k=U(V,"%"),V.forEach(o),Y.forEach(o),T=M(b),_=u(b,"DIV",{class:!0,style:!0});var H=d(_);E=U(H,s[10]),H.forEach(o),b.forEach(o),this.h()},h(){a(e,"class","text-sm font-semibold mb-2"),a(v,"class","dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full"),jt(v,"width",Math.max(15,s[11]??0)+"%"),a(A,"class","w-full rounded-full dark:bg-gray-800"),a(_,"class","mt-1 text-xs dark:text-gray-500"),jt(_,"font-size","0.5rem"),a(t,"class","my-2")},m(m,b){Z(m,t,b),l(t,e),l(e,n),l(t,f),l(t,A),l(A,v),l(v,R),l(v,k),l(t,T),l(t,_),l(_,E)},p(m,b){b[0]&262144&&r!==(r=m[18].t("Pull Progress")+"")&&x(n,r),b[0]&2048&&h!==(h=(m[11]??0)+"")&&x(R,h),b[0]&2048&&jt(v,"width",Math.max(15,m[11]??0)+"%"),b[0]&1024&&x(E,m[10])},d(m){m&&o(t)}}}function kl(s){let t,e=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
											transform-origin: center;
											animation: spinner_AtaB 0.75s infinite linear;
										}
										@keyframes spinner_AtaB {
											100% {
												transform: rotate(360deg);
											}
										}
									</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){t=i("div"),t.innerHTML=e,this.h()},l(r){t=u(r,"DIV",{class:!0,"data-svelte-h":!0}),It(t)!=="svelte-1gf8wym"&&(t.innerHTML=e),this.h()},h(){a(t,"class","ml-1.5 self-center")},m(r,n){Z(r,t,n)},d(r){r&&o(t)}}}function es(s){let t,e,r,n,f,A,v=s[18].t("My Modelfiles")+"",h,R,k,T,_='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M17 10a.75.75 0 01-.75.75H5.612l4.158 3.96a.75.75 0 11-1.04 1.08l-5.5-5.25a.75.75 0 010-1.08l5.5-5.25a.75.75 0 111.04 1.08L5.612 9.25H16.25A.75.75 0 0117 10z" clip-rule="evenodd"></path></svg>',E,m,b=s[18].t("Back")+"",O,Y,V,H,P,q,p,y,w,j,z,F,G,ie=s[18].t("Name")+"",Me,ue,Ae,pe,J,Ve,Se,ve,he,K=s[18].t("Model Tag Name")+"",W,I,L,Ee,se,Ie,Be,de,be,g=s[18].t("Description")+"",S,we,me,ce,ee,X,Ce,_e,Pe,Ue,Fe=s[18].t("Modelfile")+"",st,Dt,Re,Mt,ke,ye,At,Le,Oe,qe,$e=s[18].t("Prompt suggestions")+"",at,Vt,Ne,zt='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"></path></svg>',Pt,xe,Rt,je,Xe,et=s[18].t("Categories")+"",rt,Nt,We,St,ot,Je,ge,Ze,tt=s[18].t("Save & Create")+"",nt,Bt,it,Q,Ct,Ft;function xt(c,B){return c[9]?Xl:ql}let ut=xt(s),Te=ut(s);function Wt(c,B){return c[1]?Zl:Jl}let dt=Wt(s),De=dt(s);const Yt=[Kl,Gl],He=[];function qt(c,B){return c[1]?0:1}ke=qt(s),ye=He[ke]=Yt[ke](s);let Ge=yt(s[16]),te=[];for(let c=0;c<Ge.length;c+=1)te[c]=gl(_l(s,Ge,c));let Ke=yt(Object.keys(s[17])),le=[];for(let c=0;c<Ke.length;c+=1)le[c]=bl(ml(s,Ke,c));let ae=s[11]!==null&&wl(s),fe=s[6]&&kl();return{c(){t=i("div"),e=i("div"),r=i("div"),n=i("input"),f=D(),A=i("div"),h=C(v),R=D(),k=i("button"),T=i("div"),T.innerHTML=_,E=D(),m=i("div"),O=C(b),Y=D(),V=i("hr"),H=D(),P=i("form"),q=i("div"),p=i("div"),y=i("button"),Te.c(),j=D(),z=i("div"),F=i("div"),G=i("div"),Me=C(ie),ue=C("*"),Ae=D(),pe=i("div"),J=i("input"),Se=D(),ve=i("div"),he=i("div"),W=C(K),I=C("*"),L=D(),Ee=i("div"),se=i("input"),Be=D(),de=i("div"),be=i("div"),S=C(g),we=C("*"),me=D(),ce=i("div"),ee=i("input"),Ce=D(),_e=i("div"),Pe=i("div"),Ue=i("div"),st=C(Fe),Dt=D(),Re=i("button"),De.c(),Mt=D(),ye.c(),At=D(),Le=i("div"),Oe=i("div"),qe=i("div"),at=C($e),Vt=D(),Ne=i("button"),Ne.innerHTML=zt,Pt=D(),xe=i("div");for(let c=0;c<te.length;c+=1)te[c].c();Rt=D(),je=i("div"),Xe=i("div"),rt=C(et),Nt=D(),We=i("div");for(let c=0;c<le.length;c+=1)le[c].c();St=D(),ae&&ae.c(),ot=D(),Je=i("div"),ge=i("button"),Ze=i("div"),nt=C(tt),Bt=D(),fe&&fe.c(),this.h()},l(c){t=u(c,"DIV",{class:!0});var B=d(t);e=u(B,"DIV",{class:!0});var re=d(e);r=u(re,"DIV",{class:!0});var N=d(r);n=u(N,"INPUT",{type:!0,accept:!0}),f=M(N),A=u(N,"DIV",{class:!0});var ze=d(A);h=U(ze,v),ze.forEach(o),R=M(N),k=u(N,"BUTTON",{class:!0});var ct=d(k);T=u(ct,"DIV",{class:!0,"data-svelte-h":!0}),It(T)!=="svelte-1o1oixl"&&(T.innerHTML=_),E=M(ct),m=u(ct,"DIV",{class:!0});var Xt=d(m);O=U(Xt,b),Xt.forEach(o),ct.forEach(o),Y=M(N),V=u(N,"HR",{class:!0}),H=M(N),P=u(N,"FORM",{class:!0});var oe=d(P);q=u(oe,"DIV",{class:!0});var Jt=d(q);p=u(Jt,"DIV",{class:!0});var Zt=d(p);y=u(Zt,"BUTTON",{class:!0,type:!0});var Gt=d(y);Te.l(Gt),Gt.forEach(o),Zt.forEach(o),Jt.forEach(o),j=M(oe),z=u(oe,"DIV",{class:!0});var ft=d(z);F=u(ft,"DIV",{class:!0});var pt=d(F);G=u(pt,"DIV",{class:!0});var Ut=d(G);Me=U(Ut,ie),ue=U(Ut,"*"),Ut.forEach(o),Ae=M(pt),pe=u(pt,"DIV",{});var Kt=d(pe);J=u(Kt,"INPUT",{class:!0,placeholder:!0}),Kt.forEach(o),pt.forEach(o),Se=M(ft),ve=u(ft,"DIV",{class:!0});var ht=d(ve);he=u(ht,"DIV",{class:!0});var Lt=d(he);W=U(Lt,K),I=U(Lt,"*"),Lt.forEach(o),L=M(ht),Ee=u(ht,"DIV",{});var Qt=d(Ee);se=u(Qt,"INPUT",{class:!0,placeholder:!0}),Qt.forEach(o),ht.forEach(o),ft.forEach(o),Be=M(oe),de=u(oe,"DIV",{class:!0});var mt=d(de);be=u(mt,"DIV",{class:!0});var Ot=d(be);S=U(Ot,g),we=U(Ot,"*"),Ot.forEach(o),me=M(mt),ce=u(mt,"DIV",{});var $t=d(ce);ee=u($t,"INPUT",{class:!0,placeholder:!0}),$t.forEach(o),mt.forEach(o),Ce=M(oe),_e=u(oe,"DIV",{class:!0});var _t=d(_e);Pe=u(_t,"DIV",{class:!0});var vt=d(Pe);Ue=u(vt,"DIV",{class:!0});var el=d(Ue);st=U(el,Fe),el.forEach(o),Dt=M(vt),Re=u(vt,"BUTTON",{class:!0,type:!0});var tl=d(Re);De.l(tl),tl.forEach(o),vt.forEach(o),Mt=M(_t),ye.l(_t),_t.forEach(o),At=M(oe),Le=u(oe,"DIV",{class:!0});var gt=d(Le);Oe=u(gt,"DIV",{class:!0});var bt=d(Oe);qe=u(bt,"DIV",{class:!0});var ll=d(qe);at=U(ll,$e),ll.forEach(o),Vt=M(bt),Ne=u(bt,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),It(Ne)!=="svelte-5pubto"&&(Ne.innerHTML=zt),bt.forEach(o),Pt=M(gt),xe=u(gt,"DIV",{class:!0});var sl=d(xe);for(let Ye=0;Ye<te.length;Ye+=1)te[Ye].l(sl);sl.forEach(o),gt.forEach(o),Rt=M(oe),je=u(oe,"DIV",{class:!0});var wt=d(je);Xe=u(wt,"DIV",{class:!0});var al=d(Xe);rt=U(al,et),al.forEach(o),Nt=M(wt),We=u(wt,"DIV",{class:!0});var rl=d(We);for(let Ye=0;Ye<le.length;Ye+=1)le[Ye].l(rl);rl.forEach(o),wt.forEach(o),St=M(oe),ae&&ae.l(oe),ot=M(oe),Je=u(oe,"DIV",{class:!0});var ol=d(Je);ge=u(ol,"BUTTON",{class:!0,type:!0});var kt=d(ge);Ze=u(kt,"DIV",{class:!0});var nl=d(Ze);nt=U(nl,tt),nl.forEach(o),Bt=M(kt),fe&&fe.l(kt),kt.forEach(o),ol.forEach(o),oe.forEach(o),N.forEach(o),re.forEach(o),B.forEach(o),this.h()},h(){a(n,"type","file"),n.hidden=!0,a(n,"accept","image/*"),a(A,"class","text-2xl font-semibold mb-6"),a(T,"class","self-center"),a(m,"class","self-center font-medium text-sm"),a(k,"class","flex space-x-1"),a(V,"class","my-3 dark:border-gray-700"),a(y,"class",w=(s[9]?"":"p-6")+" rounded-full dark:bg-gray-700 border border-dashed border-gray-200"),a(y,"type","button"),a(p,"class","self-center"),a(q,"class","flex justify-center my-4"),a(G,"class","text-sm font-semibold mb-2"),a(J,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),a(J,"placeholder",Ve=s[18].t("Name your modelfile")),J.required=!0,a(F,"class","flex-1"),a(he,"class","text-sm font-semibold mb-2"),a(se,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),a(se,"placeholder",Ie=s[18].t("Add a model tag name")),se.required=!0,a(ve,"class","flex-1"),a(z,"class","my-2 flex space-x-2"),a(be,"class","text-sm font-semibold mb-2"),a(ee,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),a(ee,"placeholder",X=s[18].t("Add a short description about what this modelfile does")),ee.required=!0,a(de,"class","my-2"),a(Ue,"class","self-center text-sm font-semibold"),a(Re,"class","p-1 px-3 text-xs flex rounded transition"),a(Re,"type","button"),a(Pe,"class","flex w-full justify-between"),a(_e,"class","my-2"),a(qe,"class","self-center text-sm font-semibold"),a(Ne,"class","p-1 px-3 text-xs flex rounded transition"),a(Ne,"type","button"),a(Oe,"class","flex w-full justify-between mb-2"),a(xe,"class","flex flex-col space-y-1"),a(Le,"class","my-2"),a(Xe,"class","text-sm font-semibold mb-2"),a(We,"class","grid grid-cols-4"),a(je,"class","my-2"),a(Ze,"class","self-center font-medium"),a(ge,"class",it="text-sm px-3 py-2 transition rounded-xl "+(s[6]?" cursor-not-allowed bg-gray-100 dark:bg-gray-800":" bg-gray-50 hover:bg-gray-100 dark:bg-gray-700 dark:hover:bg-gray-800")+" flex"),a(ge,"type","submit"),ge.disabled=s[6],a(Je,"class","my-2 flex justify-end"),a(P,"class","flex flex-col"),a(r,"class","max-w-2xl mx-auto w-full px-3 md:px-0 my-10"),a(e,"class","flex flex-col justify-between w-full overflow-y-auto"),a(t,"class","min-h-screen max-h-[100dvh] w-full flex justify-center dark:text-white")},m(c,B){Z(c,t,B),l(t,e),l(e,r),l(r,n),s[21](n),l(r,f),l(r,A),l(A,h),l(r,R),l(r,k),l(k,T),l(k,E),l(k,m),l(m,O),l(r,Y),l(r,V),l(r,H),l(r,P),l(P,q),l(q,p),l(p,y),Te.m(y,null),l(P,j),l(P,z),l(z,F),l(F,G),l(G,Me),l(G,ue),l(F,Ae),l(F,pe),l(pe,J),ne(J,s[0]),l(z,Se),l(z,ve),l(ve,he),l(he,W),l(he,I),l(ve,L),l(ve,Ee),l(Ee,se),ne(se,s[12]),l(P,Be),l(P,de),l(de,be),l(be,S),l(be,we),l(de,me),l(de,ce),l(ce,ee),ne(ee,s[13]),l(P,Ce),l(P,_e),l(_e,Pe),l(Pe,Ue),l(Ue,st),l(Pe,Dt),l(Pe,Re),De.m(Re,null),l(_e,Mt),He[ke].m(_e,null),l(P,At),l(P,Le),l(Le,Oe),l(Oe,qe),l(qe,at),l(Oe,Vt),l(Oe,Ne),l(Le,Pt),l(Le,xe);for(let re=0;re<te.length;re+=1)te[re]&&te[re].m(xe,null);l(P,Rt),l(P,je),l(je,Xe),l(Xe,rt),l(je,Nt),l(je,We);for(let re=0;re<le.length;re+=1)le[re]&&le[re].m(We,null);l(P,St),ae&&ae.m(P,null),l(P,ot),l(P,Je),l(Je,ge),l(ge,Ze),l(Ze,nt),l(ge,Bt),fe&&fe.m(ge,null),Q=!0,Ct||(Ft=[$(n,"change",s[22]),$(n,"change",s[23]),$(k,"click",s[24]),$(y,"click",s[25]),$(J,"input",s[26]),$(se,"input",s[27]),$(ee,"input",s[28]),$(Re,"click",s[29]),$(Ne,"click",s[37]),$(P,"submit",Dl(s[41]))],Ct=!0)},p(c,B){(!Q||B[0]&262144)&&v!==(v=c[18].t("My Modelfiles")+"")&&x(h,v),(!Q||B[0]&262144)&&b!==(b=c[18].t("Back")+"")&&x(O,b),ut===(ut=xt(c))&&Te?Te.p(c,B):(Te.d(1),Te=ut(c),Te&&(Te.c(),Te.m(y,null))),(!Q||B[0]&512&&w!==(w=(c[9]?"":"p-6")+" rounded-full dark:bg-gray-700 border border-dashed border-gray-200"))&&a(y,"class",w),(!Q||B[0]&262144)&&ie!==(ie=c[18].t("Name")+"")&&x(Me,ie),(!Q||B[0]&262144&&Ve!==(Ve=c[18].t("Name your modelfile")))&&a(J,"placeholder",Ve),B[0]&1&&J.value!==c[0]&&ne(J,c[0]),(!Q||B[0]&262144)&&K!==(K=c[18].t("Model Tag Name")+"")&&x(W,K),(!Q||B[0]&262144&&Ie!==(Ie=c[18].t("Add a model tag name")))&&a(se,"placeholder",Ie),B[0]&4096&&se.value!==c[12]&&ne(se,c[12]),(!Q||B[0]&262144)&&g!==(g=c[18].t("Description")+"")&&x(S,g),(!Q||B[0]&262144&&X!==(X=c[18].t("Add a short description about what this modelfile does")))&&a(ee,"placeholder",X),B[0]&8192&&ee.value!==c[13]&&ne(ee,c[13]),(!Q||B[0]&262144)&&Fe!==(Fe=c[18].t("Modelfile")+"")&&x(st,Fe),dt===(dt=Wt(c))&&De?De.p(c,B):(De.d(1),De=dt(c),De&&(De.c(),De.m(Re,null)));let re=ke;if(ke=qt(c),ke===re?He[ke].p(c,B):(Il(),lt(He[re],1,1,()=>{He[re]=null}),El(),ye=He[ke],ye?ye.p(c,B):(ye=He[ke]=Yt[ke](c),ye.c()),Qe(ye,1),ye.m(_e,null)),(!Q||B[0]&262144)&&$e!==($e=c[18].t("Prompt suggestions")+"")&&x(at,$e),B[0]&327680){Ge=yt(c[16]);let N;for(N=0;N<Ge.length;N+=1){const ze=_l(c,Ge,N);te[N]?te[N].p(ze,B):(te[N]=gl(ze),te[N].c(),te[N].m(xe,null))}for(;N<te.length;N+=1)te[N].d(1);te.length=Ge.length}if((!Q||B[0]&262144)&&et!==(et=c[18].t("Categories")+"")&&x(rt,et),B[0]&131072){Ke=yt(Object.keys(c[17]));let N;for(N=0;N<Ke.length;N+=1){const ze=ml(c,Ke,N);le[N]?le[N].p(ze,B):(le[N]=bl(ze),le[N].c(),le[N].m(We,null))}for(;N<le.length;N+=1)le[N].d(1);le.length=Ke.length}c[11]!==null?ae?ae.p(c,B):(ae=wl(c),ae.c(),ae.m(P,ot)):ae&&(ae.d(1),ae=null),(!Q||B[0]&262144)&&tt!==(tt=c[18].t("Save & Create")+"")&&x(nt,tt),c[6]?fe||(fe=kl(),fe.c(),fe.m(ge,null)):fe&&(fe.d(1),fe=null),(!Q||B[0]&64&&it!==(it="text-sm px-3 py-2 transition rounded-xl "+(c[6]?" cursor-not-allowed bg-gray-100 dark:bg-gray-800":" bg-gray-50 hover:bg-gray-100 dark:bg-gray-700 dark:hover:bg-gray-800")+" flex"))&&a(ge,"class",it),(!Q||B[0]&64)&&(ge.disabled=c[6])},i(c){Q||(Qe(ye),Q=!0)},o(c){lt(ye),Q=!1},d(c){c&&o(t),s[21](null),Te.d(),De.d(),He[ke].d(),il(te,c),il(le,c),ae&&ae.d(),fe&&fe.d(),Ct=!1,Tt(Ft)}}}function ts(s,t,e){let r,n;ul(s,Ol,g=>e(44,r=g));const f=Ml("i18n");ul(s,f,g=>e(18,n=g));let A=!1,v,h,R=null,k="",T=null,_=!1,E="",m="",b="",O=!0,Y=!1,V="",H="",P="",q="",p={seed:0,stop:"",temperature:"",repeat_penalty:"",repeat_last_n:"",mirostat:"",mirostat_eta:"",mirostat_tau:"",top_k:"",top_p:"",tfs_z:"",num_ctx:"",num_predict:""},y=null,w=[{content:""}],j={character:!1,assistant:!1,writing:!1,productivity:!1,programming:!1,"data analysis":!1,lifestyle:!1,education:!1,business:!1};const z=async g=>{await Wl(localStorage.token,g),await jl.set(await Yl(localStorage.token))},F=async()=>{if(e(6,A=!0),Object.keys(j).filter(g=>j[g]).length==0)return Et.error("Uh-oh! It looks like you missed selecting a category. Please choose one to complete your modelfile."),e(6,A=!1),_=!1,_;if(r.map(g=>g.name).includes(m)||await xl(localStorage.token,m).catch(()=>!1))return Et.error(`Uh-oh! It looks like you already have a model named '${m}'. Please choose a different name to complete your modelfile.`),e(6,A=!1),_=!1,_;if(E!==""&&b!==""&&V!==""&&Object.keys(j).filter(g=>j[g]).length>0&&!r.includes(m)){const g=await Fl(localStorage.token,m,V);if(g){const S=g.body.pipeThrough(new TextDecoderStream).pipeThrough(zl(`
`)).getReader();for(;;){const{value:we,done:me}=await S.read();if(me)break;try{let ce=we.split(`
`);for(const ee of ce)if(ee!==""){console.log(ee);let X=JSON.parse(ee);if(console.log(X),X.error)throw X.error;if(X.detail)throw X.detail;X.status&&(!X.digest&&!X.status.includes("writing")&&!X.status.includes("sha256")?(Et.success(X.status),X.status==="success"&&(_=!0)):X.digest&&(e(10,k=X.digest),X.completed?e(11,T=Math.round(X.completed/X.total*1e3)/10):e(11,T=100)))}}catch(ce){console.log(ce),Et.error(ce)}}}_&&(await z({tagName:m,imageUrl:R,title:E,desc:b,content:V,suggestionPrompts:w.filter(S=>S.content!==""),categories:Object.keys(j).filter(S=>j[S]),user:y!==null?y:void 0}),await Ll("/modelfiles"))}e(6,A=!1),_=!1};Al(async()=>{if(window.addEventListener("message",async g=>{if(!["https://ollamahub.com","https://www.ollamahub.com","https://openwebui.com","https://www.openwebui.com","http://localhost:5173"].includes(g.origin))return;const S=JSON.parse(g.data);console.log(S),e(9,R=S.imageUrl),e(0,E=S.title),await dl(),e(12,m=`${S.user.username==="hub"?"":"hub/"}${S.user.username}/${S.tagName}`),e(13,b=S.desc),e(15,V=S.content),e(16,w=S.suggestionPrompts.length!=0?S.suggestionPrompts:[{content:""}]),y={username:S.user.username,name:S.user.name};for(const we of S.categories)e(17,j[we.toLowerCase()]=!0,j)}),(window.opener??!1)&&window.opener.postMessage("loaded","*"),sessionStorage.modelfile){const g=JSON.parse(sessionStorage.modelfile);console.log(g),e(9,R=g.imageUrl),e(0,E=g.title),await dl(),e(12,m=g.tagName),e(13,b=g.desc),e(15,V=g.content),e(16,w=g.suggestionPrompts.length!=0?g.suggestionPrompts:[{content:""}]);for(const S of g.categories)e(17,j[S.toLowerCase()]=!0,j);sessionStorage.removeItem("modelfile")}});function G(g){yl[g?"unshift":"push"](()=>{v=g,e(7,v)})}function ie(){h=this.files,e(8,h)}const Me=()=>{let g=new FileReader;g.onload=S=>{let we=`${S.target.result}`;const me=new Image;me.src=we,me.onload=function(){const ce=document.createElement("canvas"),ee=ce.getContext("2d"),X=me.width/me.height;let Ce,_e;X>1?(Ce=100*X,_e=100):(Ce=100,_e=100/X),ce.width=100,ce.height=100;const Pe=(100-Ce)/2,Ue=(100-_e)/2;ee.drawImage(me,Pe,Ue,Ce,_e);const Fe=ce.toDataURL("image/jpeg");e(9,R=Fe),e(8,h=null)}},h&&h.length>0&&["image/gif","image/jpeg","image/png"].includes(h[0].type)?g.readAsDataURL(h[0]):(console.log(`Unsupported File Type '${h[0].type}'.`),e(8,h=null))},ue=()=>{history.back()},Ae=()=>{v.click()};function pe(){E=this.value,e(0,E)}function J(){m=this.value,e(12,m),e(0,E)}function Ve(){b=this.value,e(13,b)}const Se=()=>{e(1,O=!O)};function ve(){V=this.value,e(15,V),e(1,O),e(2,H),e(4,q),e(5,p),e(3,P)}const he=()=>{e(1,O=!O)};function K(){H=this.value,e(2,H)}function W(){P=this.value,e(3,P)}const I=()=>{e(14,Y=!Y)};function L(){q=this.value,e(4,q)}function Ee(g){p=g,e(5,p)}const se=()=>{(w.length===0||w.at(-1).content!=="")&&e(16,w=[...w,{content:""}])};function Ie(g,S){g[S].content=this.value,e(16,w)}const Be=g=>{w.splice(g,1),e(16,w)};function de(g){j[g]=this.checked,e(17,j)}const be=()=>{F()};return s.$$.update=()=>{s.$$.dirty[0]&1&&e(12,m=E!==""?`${E.replace(/\s+/g,"-").toLowerCase()}:latest`:""),s.$$.dirty[0]&62&&(O||e(15,V=`FROM ${H}
${q!==""?`TEMPLATE """${q}"""`:""}
${p.seed!==0?`PARAMETER seed ${p.seed}`:""}
${p.stop!==""?`PARAMETER stop ${p.stop}`:""}
${p.temperature!==""?`PARAMETER temperature ${p.temperature}`:""}
${p.repeat_penalty!==""?`PARAMETER repeat_penalty ${p.repeat_penalty}`:""}
${p.repeat_last_n!==""?`PARAMETER repeat_last_n ${p.repeat_last_n}`:""}
${p.mirostat!==""?`PARAMETER mirostat ${p.mirostat}`:""}
${p.mirostat_eta!==""?`PARAMETER mirostat_eta ${p.mirostat_eta}`:""}
${p.mirostat_tau!==""?`PARAMETER mirostat_tau ${p.mirostat_tau}`:""}
${p.top_k!==""?`PARAMETER top_k ${p.top_k}`:""}
${p.top_p!==""?`PARAMETER top_p ${p.top_p}`:""}
${p.tfs_z!==""?`PARAMETER tfs_z ${p.tfs_z}`:""}
${p.num_ctx!==""?`PARAMETER num_ctx ${p.num_ctx}`:""}
${p.num_predict!==""?`PARAMETER num_predict ${p.num_predict}`:""}
SYSTEM """${P}"""`.replace(/^\s*\n/gm,"")))},[E,O,H,P,q,p,A,v,h,R,k,T,m,b,Y,V,w,j,n,f,F,G,ie,Me,ue,Ae,pe,J,Ve,Se,ve,he,K,W,I,L,Ee,se,Ie,Be,de,be]}class fs extends Pl{constructor(t){super(),Rl(this,t,ts,es,Tl,{},null,[-1,-1])}}export{fs as component};
