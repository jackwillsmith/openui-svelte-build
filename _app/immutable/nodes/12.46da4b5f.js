import{s as la,f as l,l as i,a as p,g as s,h as u,m as d,d as o,c as v,R as Vt,j as e,i as aa,r as t,Q as nt,u as Dt,O as sa,n as _,C as Ke,v as ra,P as oa,w as na,o as ia,t as $e}from"../chunks/scheduler.4a29073b.js";import{S as da,i as ua}from"../chunks/index.10afcf02.js";import{a as ta}from"../chunks/Toaster.svelte_svelte_type_style_lang.622c7c00.js";import{g as ca}from"../chunks/navigation.88a60950.js";import{p as ma}from"../chunks/index.3cc0610f.js";import{c as pa,g as va}from"../chunks/index.89fcd6d4.js";function ea(a){let f,c=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
											transform-origin: center;
											animation: spinner_AtaB 0.75s infinite linear;
										}
										@keyframes spinner_AtaB {
											100% {
												transform: rotate(360deg);
											}
										}
									</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){f=l("div"),f.innerHTML=c,this.h()},l(m){f=s(m,"DIV",{class:!0,"data-svelte-h":!0}),Vt(f)!=="svelte-1gf8wym"&&(f.innerHTML=c),this.h()},h(){e(f,"class","ml-1.5 self-center")},m(m,V){aa(m,f,V)},d(m){m&&o(f)}}}function fa(a){let f,c,m,V,B=a[4].t("My Prompts")+"",y,C,b,M,At='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M17 10a.75.75 0 01-.75.75H5.612l4.158 3.96a.75.75 0 11-1.04 1.08l-5.5-5.25a.75.75 0 010-1.08l5.5-5.25a.75.75 0 111.04 1.08L5.612 9.25H16.25A.75.75 0 0117 10z" clip-rule="evenodd"></path></svg>',it,L,J=a[4].t("Back")+"",$,dt,h,A,E,j,W,ut=a[4].t("Title")+"",Pt,ae,le,ct,P,St,se,T,Y,mt=a[4].t("Command")+"",Mt,re,oe,q,Q,He="/",ne,S,Tt,ie,k,pt=a[4].t("Only")+"",Nt,de,tt,vt=a[4].t("alphanumeric characters and hyphens")+"",Ot,ue,ft=a[4].t("are allowed - Activate this command by typing")+"",Bt,ce,z,me,Ht,pe,ve,ht=a[4].t("to chat input.")+"",Lt,fe,U,et,X,gt=a[4].t("Prompt Content")+"",jt,he,ge,N,_t,D,qt,_e,g,be,bt=a[4].t("Format your variables using square brackets like this:")+"",zt,we,R,ye,wt=a[4].t("variable")+"",Ut,ke,xe,yt=a[4].t("Make sure to enclose them with")+"",Rt,Ee,G,Le="'['",Ie,kt=a[4].t("and")+"",Zt,Ce,K,je="']'",De,Ve,H,xt=a[4].t("Utilize")+"",Ft,at,qe=" {{CLIPBOARD}}",Ae,Pe,Et=a[4].t("variable to have them replaced with clipboard content.")+"",Jt,Se,lt,I,st,It=a[4].t("Save & Create")+"",Wt,Me,Yt,Te,ze,w=a[1]&&ea();return{c(){f=l("div"),c=l("div"),m=l("div"),V=l("div"),y=i(B),C=p(),b=l("button"),M=l("div"),M.innerHTML=At,it=p(),L=l("div"),$=i(J),dt=p(),h=l("hr"),A=p(),E=l("form"),j=l("div"),W=l("div"),Pt=i(ut),ae=i("*"),le=p(),ct=l("div"),P=l("input"),se=p(),T=l("div"),Y=l("div"),Mt=i(mt),re=i("*"),oe=p(),q=l("div"),Q=l("div"),Q.textContent=He,ne=p(),S=l("input"),ie=p(),k=l("div"),Nt=i(pt),de=p(),tt=l("span"),Ot=i(vt),ue=p(),Bt=i(ft),ce=i(' "'),z=l("span"),me=i("/"),Ht=i(a[2]),pe=p(),ve=i(`"  \r
						`),Lt=i(ht),fe=p(),U=l("div"),et=l("div"),X=l("div"),jt=i(gt),he=i("*"),ge=p(),N=l("div"),_t=l("div"),D=l("textarea"),_e=p(),g=l("div"),be=i("ⓘ "),zt=i(bt),we=i(" "),R=l("span"),ye=i("["),Ut=i(wt),ke=i("]"),xe=i(`.\r
							`),Rt=i(yt),Ee=p(),G=l("span"),G.textContent=Le,Ie=p(),Zt=i(kt),Ce=p(),K=l("span"),K.textContent=je,De=i("."),Ve=p(),H=l("div"),Ft=i(xt),at=l("span"),Ae=i(qe),Pe=p(),Jt=i(Et),Se=p(),lt=l("div"),I=l("button"),st=l("div"),Wt=i(It),Me=p(),w&&w.c(),this.h()},l(r){f=s(r,"DIV",{class:!0});var n=u(f);c=s(n,"DIV",{class:!0});var Ue=u(c);m=s(Ue,"DIV",{class:!0});var Z=u(m);V=s(Z,"DIV",{class:!0});var Re=u(V);y=d(Re,B),Re.forEach(o),C=v(Z),b=s(Z,"BUTTON",{class:!0});var Qt=u(b);M=s(Qt,"DIV",{class:!0,"data-svelte-h":!0}),Vt(M)!=="svelte-1o1oixl"&&(M.innerHTML=At),it=v(Qt),L=s(Qt,"DIV",{class:!0});var Ze=u(L);$=d(Ze,J),Ze.forEach(o),Qt.forEach(o),dt=v(Z),h=s(Z,"HR",{class:!0}),A=v(Z),E=s(Z,"FORM",{class:!0});var F=u(E);j=s(F,"DIV",{class:!0});var Xt=u(j);W=s(Xt,"DIV",{class:!0});var Ne=u(W);Pt=d(Ne,ut),ae=d(Ne,"*"),Ne.forEach(o),le=v(Xt),ct=s(Xt,"DIV",{});var Fe=u(ct);P=s(Fe,"INPUT",{class:!0,placeholder:!0}),Fe.forEach(o),Xt.forEach(o),se=v(F),T=s(F,"DIV",{class:!0});var rt=u(T);Y=s(rt,"DIV",{class:!0});var Oe=u(Y);Mt=d(Oe,mt),re=d(Oe,"*"),Oe.forEach(o),oe=v(rt),q=s(rt,"DIV",{class:!0});var Gt=u(q);Q=s(Gt,"DIV",{class:!0,"data-svelte-h":!0}),Vt(Q)!=="svelte-1rk109"&&(Q.textContent=He),ne=v(Gt),S=s(Gt,"INPUT",{class:!0,placeholder:!0}),Gt.forEach(o),ie=v(rt),k=s(rt,"DIV",{class:!0});var O=u(k);Nt=d(O,pt),de=v(O),tt=s(O,"SPAN",{class:!0});var Je=u(tt);Ot=d(Je,vt),Je.forEach(o),ue=v(O),Bt=d(O,ft),ce=d(O,' "'),z=s(O,"SPAN",{class:!0});var Kt=u(z);me=d(Kt,"/"),Ht=d(Kt,a[2]),pe=v(Kt),Kt.forEach(o),ve=d(O,`"  \r
						`),Lt=d(O,ht),O.forEach(o),rt.forEach(o),fe=v(F),U=s(F,"DIV",{class:!0});var $t=u(U);et=s($t,"DIV",{class:!0});var We=u(et);X=s(We,"DIV",{class:!0});var Be=u(X);jt=d(Be,gt),he=d(Be,"*"),Be.forEach(o),We.forEach(o),ge=v($t),N=s($t,"DIV",{class:!0});var ot=u(N);_t=s(ot,"DIV",{});var Ye=u(_t);D=s(Ye,"TEXTAREA",{class:!0,placeholder:!0,rows:!0}),u(D).forEach(o),Ye.forEach(o),_e=v(ot),g=s(ot,"DIV",{class:!0});var x=u(g);be=d(x,"ⓘ "),zt=d(x,bt),we=d(x," "),R=s(x,"SPAN",{class:!0});var te=u(R);ye=d(te,"["),Ut=d(te,wt),ke=d(te,"]"),te.forEach(o),xe=d(x,`.\r
							`),Rt=d(x,yt),Ee=v(x),G=s(x,"SPAN",{class:!0,"data-svelte-h":!0}),Vt(G)!=="svelte-w4chb6"&&(G.textContent=Le),Ie=v(x),Zt=d(x,kt),Ce=v(x),K=s(x,"SPAN",{class:!0,"data-svelte-h":!0}),Vt(K)!=="svelte-589oqk"&&(K.textContent=je),De=d(x,"."),x.forEach(o),Ve=v(ot),H=s(ot,"DIV",{class:!0});var Ct=u(H);Ft=d(Ct,xt),at=s(Ct,"SPAN",{class:!0});var Qe=u(at);Ae=d(Qe,qe),Qe.forEach(o),Pe=v(Ct),Jt=d(Ct,Et),Ct.forEach(o),ot.forEach(o),$t.forEach(o),Se=v(F),lt=s(F,"DIV",{class:!0});var Xe=u(lt);I=s(Xe,"BUTTON",{class:!0,type:!0});var ee=u(I);st=s(ee,"DIV",{class:!0});var Ge=u(st);Wt=d(Ge,It),Ge.forEach(o),Me=v(ee),w&&w.l(ee),ee.forEach(o),Xe.forEach(o),F.forEach(o),Z.forEach(o),Ue.forEach(o),n.forEach(o),this.h()},h(){e(V,"class","text-2xl font-semibold mb-6"),e(M,"class","self-center"),e(L,"class","self-center font-medium text-sm"),e(b,"class","flex space-x-1"),e(h,"class","my-3 dark:border-gray-700"),e(W,"class","text-sm font-semibold mb-2"),e(P,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),e(P,"placeholder",St=a[4].t("Add a short title for this prompt")),P.required=!0,e(j,"class","my-2"),e(Y,"class","text-sm font-semibold mb-2"),e(Q,"class","bg-gray-200 dark:bg-gray-600 font-bold px-3 py-1 border border-r-0 dark:border-gray-600 rounded-l-lg"),e(S,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-r-lg"),e(S,"placeholder",Tt=a[4].t("short-summary")),S.required=!0,e(q,"class","flex items-center mb-1"),e(tt,"class","text-gray-600 dark:text-gray-300 font-medium"),e(z,"class","text-gray-600 dark:text-gray-300 font-medium"),e(k,"class","text-xs text-gray-400 dark:text-gray-500"),e(T,"class","my-2"),e(X,"class","self-center text-sm font-semibold"),e(et,"class","flex w-full justify-between"),e(D,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),e(D,"placeholder",qt=a[4].t("Write a summary in 50 words that summarizes [topic or keyword].")),e(D,"rows","6"),D.required=!0,e(R,"class","text-gray-600 dark:text-gray-300 font-medium"),e(G,"class","text-gray-600 dark:text-gray-300 font-medium"),e(K,"class","text-gray-600 dark:text-gray-300 font-medium"),e(g,"class","text-xs text-gray-400 dark:text-gray-500"),e(at,"class","text-gray-600 dark:text-gray-300 font-medium"),e(H,"class","text-xs text-gray-400 dark:text-gray-500"),e(N,"class","mt-2"),e(U,"class","my-2"),e(st,"class","self-center font-medium"),e(I,"class",Yt="text-sm px-3 py-2 transition rounded-xl "+(a[1]?" cursor-not-allowed bg-gray-100 dark:bg-gray-800":" bg-gray-50 hover:bg-gray-100 dark:bg-gray-700 dark:hover:bg-gray-800")+" flex"),e(I,"type","submit"),I.disabled=a[1],e(lt,"class","my-2 flex justify-end"),e(E,"class","flex flex-col"),e(m,"class","max-w-2xl mx-auto w-full px-3 md:px-0 my-10"),e(c,"class","flex flex-col justify-between w-full overflow-y-auto"),e(f,"class","min-h-screen max-h-[100dvh] w-full flex justify-center dark:text-white")},m(r,n){aa(r,f,n),t(f,c),t(c,m),t(m,V),t(V,y),t(m,C),t(m,b),t(b,M),t(b,it),t(b,L),t(L,$),t(m,dt),t(m,h),t(m,A),t(m,E),t(E,j),t(j,W),t(W,Pt),t(W,ae),t(j,le),t(j,ct),t(ct,P),nt(P,a[0]),t(E,se),t(E,T),t(T,Y),t(Y,Mt),t(Y,re),t(T,oe),t(T,q),t(q,Q),t(q,ne),t(q,S),nt(S,a[2]),t(T,ie),t(T,k),t(k,Nt),t(k,de),t(k,tt),t(tt,Ot),t(k,ue),t(k,Bt),t(k,ce),t(k,z),t(z,me),t(z,Ht),t(z,pe),t(k,ve),t(k,Lt),t(E,fe),t(E,U),t(U,et),t(et,X),t(X,jt),t(X,he),t(U,ge),t(U,N),t(N,_t),t(_t,D),nt(D,a[3]),t(N,_e),t(N,g),t(g,be),t(g,zt),t(g,we),t(g,R),t(R,ye),t(R,Ut),t(R,ke),t(g,xe),t(g,Rt),t(g,Ee),t(g,G),t(g,Ie),t(g,Zt),t(g,Ce),t(g,K),t(g,De),t(N,Ve),t(N,H),t(H,Ft),t(H,at),t(at,Ae),t(H,Pe),t(H,Jt),t(E,Se),t(E,lt),t(lt,I),t(I,st),t(st,Wt),t(I,Me),w&&w.m(I,null),Te||(ze=[Dt(b,"click",a[7]),Dt(P,"input",a[8]),Dt(S,"input",a[9]),Dt(D,"input",a[10]),Dt(E,"submit",sa(a[11]))],Te=!0)},p(r,[n]){n&16&&B!==(B=r[4].t("My Prompts")+"")&&_(y,B),n&16&&J!==(J=r[4].t("Back")+"")&&_($,J),n&16&&ut!==(ut=r[4].t("Title")+"")&&_(Pt,ut),n&16&&St!==(St=r[4].t("Add a short title for this prompt"))&&e(P,"placeholder",St),n&1&&P.value!==r[0]&&nt(P,r[0]),n&16&&mt!==(mt=r[4].t("Command")+"")&&_(Mt,mt),n&16&&Tt!==(Tt=r[4].t("short-summary"))&&e(S,"placeholder",Tt),n&4&&S.value!==r[2]&&nt(S,r[2]),n&16&&pt!==(pt=r[4].t("Only")+"")&&_(Nt,pt),n&16&&vt!==(vt=r[4].t("alphanumeric characters and hyphens")+"")&&_(Ot,vt),n&16&&ft!==(ft=r[4].t("are allowed - Activate this command by typing")+"")&&_(Bt,ft),n&4&&_(Ht,r[2]),n&16&&ht!==(ht=r[4].t("to chat input.")+"")&&_(Lt,ht),n&16&&gt!==(gt=r[4].t("Prompt Content")+"")&&_(jt,gt),n&16&&qt!==(qt=r[4].t("Write a summary in 50 words that summarizes [topic or keyword]."))&&e(D,"placeholder",qt),n&8&&nt(D,r[3]),n&16&&bt!==(bt=r[4].t("Format your variables using square brackets like this:")+"")&&_(zt,bt),n&16&&wt!==(wt=r[4].t("variable")+"")&&_(Ut,wt),n&16&&yt!==(yt=r[4].t("Make sure to enclose them with")+"")&&_(Rt,yt),n&16&&kt!==(kt=r[4].t("and")+"")&&_(Zt,kt),n&16&&xt!==(xt=r[4].t("Utilize")+"")&&_(Ft,xt),n&16&&Et!==(Et=r[4].t("variable to have them replaced with clipboard content.")+"")&&_(Jt,Et),n&16&&It!==(It=r[4].t("Save & Create")+"")&&_(Wt,It),r[1]?w||(w=ea(),w.c(),w.m(I,null)):w&&(w.d(1),w=null),n&2&&Yt!==(Yt="text-sm px-3 py-2 transition rounded-xl "+(r[1]?" cursor-not-allowed bg-gray-100 dark:bg-gray-800":" bg-gray-50 hover:bg-gray-100 dark:bg-gray-700 dark:hover:bg-gray-800")+" flex")&&e(I,"class",Yt),n&2&&(I.disabled=r[1])},i:Ke,o:Ke,d(r){r&&o(f),w&&w.d(),Te=!1,ra(ze)}}}function ha(a,f,c){let m;const V=oa("i18n");na(a,V,h=>c(4,m=h));let B=!1,y="",C="",b="";const M=async()=>{c(1,B=!0),At(C)?await pa(localStorage.token,C,y,b).catch(A=>(ta.error(A),null))&&(await ma.set(await va(localStorage.token)),await ca("/prompts")):ta.error(m.t("Only alphanumeric characters and hyphens are allowed in the command string.")),c(1,B=!1)},At=h=>/^[a-zA-Z0-9-]+$/.test(h);ia(async()=>{if(window.addEventListener("message",async h=>{if(!["https://ollamahub.com","https://www.ollamahub.com","https://openwebui.com","https://www.openwebui.com","http://localhost:5173"].includes(h.origin))return;const A=JSON.parse(h.data);console.log(A),c(0,y=A.title),await $e(),c(3,b=A.content),c(2,C=A.command)}),(window.opener??!1)&&window.opener.postMessage("loaded","*"),sessionStorage.prompt){const h=JSON.parse(sessionStorage.prompt);console.log(h),c(0,y=h.title),await $e(),c(3,b=h.content),c(2,C=h.command.at(0)==="/"?h.command.slice(1):h.command),sessionStorage.removeItem("prompt")}});const it=()=>{history.back()};function L(){y=this.value,c(0,y)}function J(){C=this.value,c(2,C),c(0,y)}function $(){b=this.value,c(3,b)}const dt=()=>{M()};return a.$$.update=()=>{a.$$.dirty&1&&c(2,C=y!==""?`${y.replace(/\s+/g,"-").toLowerCase()}`:"")},[y,B,C,b,m,V,M,it,L,J,$,dt]}class xa extends da{constructor(f){super(),ua(this,f,ha,fa,la,{})}}export{xa as component};
