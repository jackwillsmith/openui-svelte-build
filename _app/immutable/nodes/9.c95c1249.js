import{s as _l,f as n,a as m,l as N,g as i,h as u,c as _,m as U,d,R as gt,j as a,i as Ee,r as e,Q as pe,u as J,O as bl,n as F,C as Ht,K as rl,v as ml,w as Bt,P as wl,o as yl,k as Lt,p as kl,z as ol,A as nl,S as il}from"../chunks/scheduler.4a29073b.js";import{e as pt}from"../chunks/each.8348a957.js";import{S as El,i as Il}from"../chunks/index.10afcf02.js";import{a as St}from"../chunks/Toaster.svelte_svelte_type_style_lang.622c7c00.js";import{g as dl}from"../chunks/navigation.88a60950.js";import{p as Dl}from"../chunks/stores.455bd7d1.js";import{i as ul}from"../chunks/index.3cc0610f.js";import{s as Vl}from"../chunks/index.1bdba4f5.js";import{e as Ml}from"../chunks/index.0b44bc8f.js";import{u as Tl,g as Pl}from"../chunks/index.0a3592ef.js";function cl(l,s,t){const r=l.slice();return r[33]=s[t],r[34]=s,r[35]=t,r}function fl(l,s,t){const r=l.slice();return r[36]=s[t],r[37]=s,r[38]=t,r}function Nl(l){let s,t;return{c(){s=ol("svg"),t=ol("path"),this.h()},l(r){s=nl(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var c=u(s);t=nl(c,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),u(t).forEach(d),c.forEach(d),this.h()},h(){a(t,"fill-rule","evenodd"),a(t,"d","M12 3.75a.75.75 0 01.75.75v6.75h6.75a.75.75 0 010 1.5h-6.75v6.75a.75.75 0 01-1.5 0v-6.75H4.5a.75.75 0 010-1.5h6.75V4.5a.75.75 0 01.75-.75z"),a(t,"clip-rule","evenodd"),a(s,"xmlns","http://www.w3.org/2000/svg"),a(s,"viewBox","0 0 24 24"),a(s,"fill","currentColor"),a(s,"class","w-8")},m(r,c){Ee(r,s,c),e(s,t)},p:Ht,d(r){r&&d(s)}}}function Ul(l){let s,t;return{c(){s=n("img"),this.h()},l(r){s=i(r,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){il(s.src,t=l[3])||a(s,"src",t),a(s,"alt","modelfile profile"),a(s,"class","rounded-full w-20 h-20 object-cover")},m(r,c){Ee(r,s,c)},p(r,c){c[0]&8&&!il(s.src,t=r[3])&&a(s,"src",t)},d(r){r&&d(s)}}}function hl(l){let s,t,r,c,y,D='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',b,T,I;function P(){l[24].call(t,l[37],l[38])}function V(){return l[25](l[38])}return{c(){s=n("div"),t=n("input"),c=m(),y=n("button"),y.innerHTML=D,b=m(),this.h()},l(p){s=i(p,"DIV",{class:!0});var k=u(s);t=i(k,"INPUT",{class:!0,placeholder:!0}),c=_(k),y=i(k,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),gt(y)!=="svelte-1tpj1wu"&&(y.innerHTML=D),b=_(k),k.forEach(d),this.h()},h(){a(t,"class","px-3 py-1.5 text-sm w-full bg-transparent outline-none border-r dark:border-gray-600"),a(t,"placeholder",r=l[12].t("Write a prompt suggestion (e.g. Who are you?)")),a(y,"class","px-2"),a(y,"type","button"),a(s,"class","flex border dark:border-gray-600 rounded-lg")},m(p,k){Ee(p,s,k),e(s,t),pe(t,l[36].content),e(s,c),e(s,y),e(s,b),T||(I=[J(t,"input",P),J(y,"click",V)],T=!0)},p(p,k){l=p,k[0]&4096&&r!==(r=l[12].t("Write a prompt suggestion (e.g. Who are you?)"))&&a(t,"placeholder",r),k[0]&1024&&t.value!==l[36].content&&pe(t,l[36].content)},d(p){p&&d(s),T=!1,ml(I)}}}function vl(l){let s,t,r,c,y=l[33]+"",D,b,T,I;function P(){l[26].call(t,l[33])}return{c(){s=n("div"),t=n("input"),r=m(),c=n("div"),D=N(y),b=m(),this.h()},l(V){s=i(V,"DIV",{class:!0});var p=u(s);t=i(p,"INPUT",{type:!0}),r=_(p),c=i(p,"DIV",{class:!0});var k=u(c);D=U(k,y),k.forEach(d),b=_(p),p.forEach(d),this.h()},h(){a(t,"type","checkbox"),a(c,"class","capitalize"),a(s,"class","flex space-x-2 text-sm")},m(V,p){Ee(V,s,p),e(s,t),t.checked=l[11][l[33]],e(s,r),e(s,c),e(c,D),e(s,b),T||(I=J(t,"change",P),T=!0)},p(V,p){l=V,p[0]&2048&&(t.checked=l[11][l[33]]),p[0]&2048&&y!==(y=l[33]+"")&&F(D,y)},d(V){V&&d(s),T=!1,I()}}}function pl(l){let s,t,r=l[12].t("Pull Progress")+"",c,y,D,b,T=(l[5]??0)+"",I,P,V,p,k;return{c(){s=n("div"),t=n("div"),c=N(r),y=m(),D=n("div"),b=n("div"),I=N(T),P=N("%"),V=m(),p=n("div"),k=N(l[4]),this.h()},l(w){s=i(w,"DIV",{class:!0});var E=u(s);t=i(E,"DIV",{class:!0});var z=u(t);c=U(z,r),z.forEach(d),y=_(E),D=i(E,"DIV",{class:!0});var W=u(D);b=i(W,"DIV",{class:!0,style:!0});var L=u(b);I=U(L,T),P=U(L,"%"),L.forEach(d),W.forEach(d),V=_(E),p=i(E,"DIV",{class:!0,style:!0});var A=u(p);k=U(A,l[4]),A.forEach(d),E.forEach(d),this.h()},h(){a(t,"class","text-sm font-semibold mb-2"),a(b,"class","dark:bg-gray-600 text-xs font-medium text-blue-100 text-center p-0.5 leading-none rounded-full"),Lt(b,"width",Math.max(15,l[5]??0)+"%"),a(D,"class","w-full rounded-full dark:bg-gray-800"),a(p,"class","mt-1 text-xs dark:text-gray-500"),Lt(p,"font-size","0.5rem"),a(s,"class","my-2")},m(w,E){Ee(w,s,E),e(s,t),e(t,c),e(s,y),e(s,D),e(D,b),e(b,I),e(b,P),e(s,V),e(s,p),e(p,k)},p(w,E){E[0]&4096&&r!==(r=w[12].t("Pull Progress")+"")&&F(c,r),E[0]&32&&T!==(T=(w[5]??0)+"")&&F(I,T),E[0]&32&&Lt(b,"width",Math.max(15,w[5]??0)+"%"),E[0]&16&&F(k,w[4])},d(w){w&&d(s)}}}function gl(l){let s,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
											transform-origin: center;
											animation: spinner_AtaB 0.75s infinite linear;
										}
										@keyframes spinner_AtaB {
											100% {
												transform: rotate(360deg);
											}
										}
									</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){s=n("div"),s.innerHTML=t,this.h()},l(r){s=i(r,"DIV",{class:!0,"data-svelte-h":!0}),gt(s)!=="svelte-1gf8wym"&&(s.innerHTML=t),this.h()},h(){a(s,"class","ml-1.5 self-center")},m(r,c){Ee(r,s,c)},d(r){r&&d(s)}}}function jl(l){let s,t,r,c,y,D,b=l[12].t("My Modelfiles")+"",T,I,P,V,p='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M17 10a.75.75 0 01-.75.75H5.612l4.158 3.96a.75.75 0 11-1.04 1.08l-5.5-5.25a.75.75 0 010-1.08l5.5-5.25a.75.75 0 111.04 1.08L5.612 9.25H16.25A.75.75 0 0117 10z" clip-rule="evenodd"></path></svg>',k,w,E=l[12].t("Back")+"",z,W,L,A,v,de,re,G,Ie,Be,te,le,oe,ge=l[12].t("Name")+"",De,Le,Se,me,Y,He,h,j,K,Z=l[12].t("Model Tag Name")+"",q,ne,M,se,S,Ve,Oe,ae,_e,xe=l[12].t("Description")+"",Xe,mt,_t,Re,Q,Ge,bt,ue,Me,Te,ze=l[12].t("Modelfile")+"",Je,wt,ce,be,qe=l[12].t("Content")+"",Ke,yt,kt,Fe,$,Et,fe,he,Pe,We=l[12].t("Prompt suggestions")+"",Qe,It,ie,Ot='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"></path></svg>',Dt,we,Vt,ve,Ne,Ye=l[12].t("Categories")+"",$e,Mt,ye,Tt,et,Ue,X,je,Ze=l[12].t("Save & Update")+"",tt,Pt,lt,Nt,xt;function Rt(o,g){return o[3]?Ul:Nl}let st=Rt(l),ee=st(l),Ae=pt(l[10]),C=[];for(let o=0;o<Ae.length;o+=1)C[o]=hl(fl(l,Ae,o));let Ce=pt(Object.keys(l[11])),B=[];for(let o=0;o<Ce.length;o+=1)B[o]=vl(cl(l,Ce,o));let H=l[5]!==null&&pl(l),R=l[0]&&gl();return{c(){s=n("div"),t=n("div"),r=n("div"),c=n("input"),y=m(),D=n("div"),T=N(b),I=m(),P=n("button"),V=n("div"),V.innerHTML=p,k=m(),w=n("div"),z=N(E),W=m(),L=n("hr"),A=m(),v=n("form"),de=n("div"),re=n("div"),G=n("button"),ee.c(),Be=m(),te=n("div"),le=n("div"),oe=n("div"),De=N(ge),Le=N("*"),Se=m(),me=n("div"),Y=n("input"),h=m(),j=n("div"),K=n("div"),q=N(Z),ne=N("*"),M=m(),se=n("div"),S=n("input"),Oe=m(),ae=n("div"),_e=n("div"),Xe=N(xe),mt=N("*"),_t=m(),Re=n("div"),Q=n("input"),bt=m(),ue=n("div"),Me=n("div"),Te=n("div"),Je=N(ze),wt=m(),ce=n("div"),be=n("div"),Ke=N(qe),yt=N("*"),kt=m(),Fe=n("div"),$=n("textarea"),Et=m(),fe=n("div"),he=n("div"),Pe=n("div"),Qe=N(We),It=m(),ie=n("button"),ie.innerHTML=Ot,Dt=m(),we=n("div");for(let o=0;o<C.length;o+=1)C[o].c();Vt=m(),ve=n("div"),Ne=n("div"),$e=N(Ye),Mt=m(),ye=n("div");for(let o=0;o<B.length;o+=1)B[o].c();Tt=m(),H&&H.c(),et=m(),Ue=n("div"),X=n("button"),je=n("div"),tt=N(Ze),Pt=m(),R&&R.c(),this.h()},l(o){s=i(o,"DIV",{class:!0});var g=u(s);t=i(g,"DIV",{class:!0});var f=u(t);r=i(f,"DIV",{class:!0});var O=u(r);c=i(O,"INPUT",{type:!0,accept:!0}),y=_(O),D=i(O,"DIV",{class:!0});var zt=u(D);T=U(zt,b),zt.forEach(d),I=_(O),P=i(O,"BUTTON",{class:!0});var at=u(P);V=i(at,"DIV",{class:!0,"data-svelte-h":!0}),gt(V)!=="svelte-1o1oixl"&&(V.innerHTML=p),k=_(at),w=i(at,"DIV",{class:!0});var qt=u(w);z=U(qt,E),qt.forEach(d),at.forEach(d),W=_(O),L=i(O,"HR",{class:!0}),A=_(O),v=i(O,"FORM",{class:!0});var x=u(v);de=i(x,"DIV",{class:!0});var Ft=u(de);re=i(Ft,"DIV",{class:!0});var Wt=u(re);G=i(Wt,"BUTTON",{class:!0,type:!0});var Yt=u(G);ee.l(Yt),Yt.forEach(d),Wt.forEach(d),Ft.forEach(d),Be=_(x),te=i(x,"DIV",{class:!0});var rt=u(te);le=i(rt,"DIV",{class:!0});var ot=u(le);oe=i(ot,"DIV",{class:!0});var Ut=u(oe);De=U(Ut,ge),Le=U(Ut,"*"),Ut.forEach(d),Se=_(ot),me=i(ot,"DIV",{});var Zt=u(me);Y=i(Zt,"INPUT",{class:!0,placeholder:!0}),Zt.forEach(d),ot.forEach(d),h=_(rt),j=i(rt,"DIV",{class:!0});var nt=u(j);K=i(nt,"DIV",{class:!0});var jt=u(K);q=U(jt,Z),ne=U(jt,"*"),jt.forEach(d),M=_(nt),se=i(nt,"DIV",{});var Xt=u(se);S=i(Xt,"INPUT",{class:!0,placeholder:!0}),Xt.forEach(d),nt.forEach(d),rt.forEach(d),Oe=_(x),ae=i(x,"DIV",{class:!0});var it=u(ae);_e=i(it,"DIV",{class:!0});var At=u(_e);Xe=U(At,xe),mt=U(At,"*"),At.forEach(d),_t=_(it),Re=i(it,"DIV",{});var Gt=u(Re);Q=i(Gt,"INPUT",{class:!0,placeholder:!0}),Gt.forEach(d),it.forEach(d),bt=_(x),ue=i(x,"DIV",{class:!0});var dt=u(ue);Me=i(dt,"DIV",{class:!0});var Jt=u(Me);Te=i(Jt,"DIV",{class:!0});var Kt=u(Te);Je=U(Kt,ze),Kt.forEach(d),Jt.forEach(d),wt=_(dt),ce=i(dt,"DIV",{class:!0});var ut=u(ce);be=i(ut,"DIV",{class:!0});var Ct=u(be);Ke=U(Ct,qe),yt=U(Ct,"*"),Ct.forEach(d),kt=_(ut),Fe=i(ut,"DIV",{});var Qt=u(Fe);$=i(Qt,"TEXTAREA",{class:!0,placeholder:!0,rows:!0}),u($).forEach(d),Qt.forEach(d),ut.forEach(d),dt.forEach(d),Et=_(x),fe=i(x,"DIV",{class:!0});var ct=u(fe);he=i(ct,"DIV",{class:!0});var ft=u(he);Pe=i(ft,"DIV",{class:!0});var $t=u(Pe);Qe=U($t,We),$t.forEach(d),It=_(ft),ie=i(ft,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),gt(ie)!=="svelte-5pubto"&&(ie.innerHTML=Ot),ft.forEach(d),Dt=_(ct),we=i(ct,"DIV",{class:!0});var el=u(we);for(let ke=0;ke<C.length;ke+=1)C[ke].l(el);el.forEach(d),ct.forEach(d),Vt=_(x),ve=i(x,"DIV",{class:!0});var ht=u(ve);Ne=i(ht,"DIV",{class:!0});var tl=u(Ne);$e=U(tl,Ye),tl.forEach(d),Mt=_(ht),ye=i(ht,"DIV",{class:!0});var ll=u(ye);for(let ke=0;ke<B.length;ke+=1)B[ke].l(ll);ll.forEach(d),ht.forEach(d),Tt=_(x),H&&H.l(x),et=_(x),Ue=i(x,"DIV",{class:!0});var sl=u(Ue);X=i(sl,"BUTTON",{class:!0,type:!0});var vt=u(X);je=i(vt,"DIV",{class:!0});var al=u(je);tt=U(al,Ze),al.forEach(d),Pt=_(vt),R&&R.l(vt),vt.forEach(d),sl.forEach(d),x.forEach(d),O.forEach(d),f.forEach(d),g.forEach(d),this.h()},h(){a(c,"type","file"),c.hidden=!0,a(c,"accept","image/*"),a(D,"class","text-2xl font-semibold mb-6"),a(V,"class","self-center"),a(w,"class","self-center font-medium text-sm"),a(P,"class","flex space-x-1"),a(L,"class","my-3 dark:border-gray-700"),a(G,"class",Ie=(l[3]?"":"p-6")+" rounded-full dark:bg-gray-700 border border-dashed border-gray-200"),a(G,"type","button"),a(re,"class","self-center"),a(de,"class","flex justify-center my-4"),a(oe,"class","text-sm font-semibold mb-2"),a(Y,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),a(Y,"placeholder",He=l[12].t("Name your modelfile")),Y.required=!0,a(le,"class","flex-1"),a(K,"class","text-sm font-semibold mb-2"),a(S,"class","px-3 py-1.5 text-sm w-full bg-transparent disabled:text-gray-500 border dark:border-gray-600 outline-none rounded-lg"),a(S,"placeholder",Ve=l[12].t("Add a model tag name")),S.value=l[7],S.disabled=!0,S.required=!0,a(j,"class","flex-1"),a(te,"class","my-2 flex space-x-2"),a(_e,"class","text-sm font-semibold mb-2"),a(Q,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),a(Q,"placeholder",Ge=l[12].t("Add a short description about what this modelfile does")),Q.required=!0,a(ae,"class","my-2"),a(Te,"class","self-center text-sm font-semibold"),a(Me,"class","flex w-full justify-between"),a(be,"class","text-xs font-semibold mb-2"),a($,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),a($,"placeholder",`FROM llama2
PARAMETER temperature 1
SYSTEM """
You are Mario from Super Mario Bros, acting as an assistant.
"""`),a($,"rows","6"),$.required=!0,a(ce,"class","mt-2"),a(ue,"class","my-2"),a(Pe,"class","self-center text-sm font-semibold"),a(ie,"class","p-1 px-3 text-xs flex rounded transition"),a(ie,"type","button"),a(he,"class","flex w-full justify-between mb-2"),a(we,"class","flex flex-col space-y-1"),a(fe,"class","my-2"),a(Ne,"class","text-sm font-semibold mb-2"),a(ye,"class","grid grid-cols-4"),a(ve,"class","my-2"),a(je,"class","self-center font-medium"),a(X,"class",lt="text-sm px-3 py-2 transition rounded-xl "+(l[0]?" cursor-not-allowed bg-gray-100 dark:bg-gray-800":" bg-gray-50 hover:bg-gray-100 dark:bg-gray-700 dark:hover:bg-gray-800")+" flex"),a(X,"type","submit"),X.disabled=l[0],a(Ue,"class","my-2 flex justify-end"),a(v,"class","flex flex-col"),a(r,"class","max-w-2xl mx-auto w-full px-3 md:px-0 my-10"),a(t,"class","flex flex-col justify-between w-full overflow-y-auto"),a(s,"class","min-h-screen max-h-[100dvh] w-full flex justify-center dark:text-white")},m(o,g){Ee(o,s,g),e(s,t),e(t,r),e(r,c),l[15](c),e(r,y),e(r,D),e(D,T),e(r,I),e(r,P),e(P,V),e(P,k),e(P,w),e(w,z),e(r,W),e(r,L),e(r,A),e(r,v),e(v,de),e(de,re),e(re,G),ee.m(G,null),e(v,Be),e(v,te),e(te,le),e(le,oe),e(oe,De),e(oe,Le),e(le,Se),e(le,me),e(me,Y),pe(Y,l[6]),e(te,h),e(te,j),e(j,K),e(K,q),e(K,ne),e(j,M),e(j,se),e(se,S),e(v,Oe),e(v,ae),e(ae,_e),e(_e,Xe),e(_e,mt),e(ae,_t),e(ae,Re),e(Re,Q),pe(Q,l[8]),e(v,bt),e(v,ue),e(ue,Me),e(Me,Te),e(Te,Je),e(ue,wt),e(ue,ce),e(ce,be),e(be,Ke),e(be,yt),e(ce,kt),e(ce,Fe),e(Fe,$),pe($,l[9]),e(v,Et),e(v,fe),e(fe,he),e(he,Pe),e(Pe,Qe),e(he,It),e(he,ie),e(fe,Dt),e(fe,we);for(let f=0;f<C.length;f+=1)C[f]&&C[f].m(we,null);e(v,Vt),e(v,ve),e(ve,Ne),e(Ne,$e),e(ve,Mt),e(ve,ye);for(let f=0;f<B.length;f+=1)B[f]&&B[f].m(ye,null);e(v,Tt),H&&H.m(v,null),e(v,et),e(v,Ue),e(Ue,X),e(X,je),e(je,tt),e(X,Pt),R&&R.m(X,null),Nt||(xt=[J(c,"change",l[16]),J(c,"change",l[17]),J(P,"click",l[18]),J(G,"click",l[19]),J(Y,"input",l[20]),J(Q,"input",l[21]),J($,"input",l[22]),J(ie,"click",l[23]),J(v,"submit",bl(l[27]))],Nt=!0)},p(o,g){if(g[0]&4096&&b!==(b=o[12].t("My Modelfiles")+"")&&F(T,b),g[0]&4096&&E!==(E=o[12].t("Back")+"")&&F(z,E),st===(st=Rt(o))&&ee?ee.p(o,g):(ee.d(1),ee=st(o),ee&&(ee.c(),ee.m(G,null))),g[0]&8&&Ie!==(Ie=(o[3]?"":"p-6")+" rounded-full dark:bg-gray-700 border border-dashed border-gray-200")&&a(G,"class",Ie),g[0]&4096&&ge!==(ge=o[12].t("Name")+"")&&F(De,ge),g[0]&4096&&He!==(He=o[12].t("Name your modelfile"))&&a(Y,"placeholder",He),g[0]&64&&Y.value!==o[6]&&pe(Y,o[6]),g[0]&4096&&Z!==(Z=o[12].t("Model Tag Name")+"")&&F(q,Z),g[0]&4096&&Ve!==(Ve=o[12].t("Add a model tag name"))&&a(S,"placeholder",Ve),g[0]&128&&S.value!==o[7]&&(S.value=o[7]),g[0]&4096&&xe!==(xe=o[12].t("Description")+"")&&F(Xe,xe),g[0]&4096&&Ge!==(Ge=o[12].t("Add a short description about what this modelfile does"))&&a(Q,"placeholder",Ge),g[0]&256&&Q.value!==o[8]&&pe(Q,o[8]),g[0]&4096&&ze!==(ze=o[12].t("Modelfile")+"")&&F(Je,ze),g[0]&4096&&qe!==(qe=o[12].t("Content")+"")&&F(Ke,qe),g[0]&512&&pe($,o[9]),g[0]&4096&&We!==(We=o[12].t("Prompt suggestions")+"")&&F(Qe,We),g[0]&5120){Ae=pt(o[10]);let f;for(f=0;f<Ae.length;f+=1){const O=fl(o,Ae,f);C[f]?C[f].p(O,g):(C[f]=hl(O),C[f].c(),C[f].m(we,null))}for(;f<C.length;f+=1)C[f].d(1);C.length=Ae.length}if(g[0]&4096&&Ye!==(Ye=o[12].t("Categories")+"")&&F($e,Ye),g[0]&2048){Ce=pt(Object.keys(o[11]));let f;for(f=0;f<Ce.length;f+=1){const O=cl(o,Ce,f);B[f]?B[f].p(O,g):(B[f]=vl(O),B[f].c(),B[f].m(ye,null))}for(;f<B.length;f+=1)B[f].d(1);B.length=Ce.length}o[5]!==null?H?H.p(o,g):(H=pl(o),H.c(),H.m(v,et)):H&&(H.d(1),H=null),g[0]&4096&&Ze!==(Ze=o[12].t("Save & Update")+"")&&F(tt,Ze),o[0]?R||(R=gl(),R.c(),R.m(X,null)):R&&(R.d(1),R=null),g[0]&1&&lt!==(lt="text-sm px-3 py-2 transition rounded-xl "+(o[0]?" cursor-not-allowed bg-gray-100 dark:bg-gray-800":" bg-gray-50 hover:bg-gray-100 dark:bg-gray-700 dark:hover:bg-gray-800")+" flex")&&a(X,"class",lt),g[0]&1&&(X.disabled=o[0])},i:Ht,o:Ht,d(o){o&&d(s),l[15](null),ee.d(),rl(C,o),rl(B,o),H&&H.d(),R&&R.d(),Nt=!1,ml(xt)}}}function Al(l,s,t){let r,c,y;Bt(l,ul,h=>t(30,r=h)),Bt(l,Dl,h=>t(31,c=h));const D=wl("i18n");Bt(l,D,h=>t(12,y=h));let b=!1,T,I,P=null,V="",p=null,k=!1,w=null,E="",z="",W="",L="",A=[{content:""}],v={character:!1,assistant:!1,writing:!1,productivity:!1,programming:!1,"data analysis":!1,lifestyle:!1,education:!1,business:!1};yl(()=>{if(t(7,z=c.url.searchParams.get("tag")),z){w=r.filter(h=>h.tagName===z)[0],console.log(w),t(3,P=w.imageUrl),t(6,E=w.title),t(8,W=w.desc),t(9,L=w.content),t(10,A=w.suggestionPrompts.length!=0?w.suggestionPrompts:[{content:""}]);for(const h of w.categories)t(11,v[h.toLowerCase()]=!0,v)}else dl("/modelfiles")});const de=async h=>{await Tl(localStorage.token,h.tagName,h),await ul.set(await Pl(localStorage.token))},re=async()=>{if(t(0,b=!0),Object.keys(v).filter(h=>v[h]).length==0&&St.error("Uh-oh! It looks like you missed selecting a category. Please choose one to complete your modelfile."),E!==""&&W!==""&&L!==""&&Object.keys(v).filter(h=>v[h]).length>0){const h=await Ml(localStorage.token,z,L);if(h){const j=h.body.pipeThrough(new TextDecoderStream).pipeThrough(Vl(`
`)).getReader();for(;;){const{value:K,done:Z}=await j.read();if(Z)break;try{let q=K.split(`
`);for(const ne of q)if(ne!==""){console.log(ne);let M=JSON.parse(ne);if(console.log(M),M.error)throw M.error;if(M.detail)throw M.detail;M.status&&(!M.digest&&!M.status.includes("writing")&&!M.status.includes("sha256")?(St.success(M.status),M.status==="success"&&(k=!0)):M.digest&&(t(4,V=M.digest),M.completed?t(5,p=Math.round(M.completed/M.total*1e3)/10):t(5,p=100)))}}catch(q){console.log(q),St.error(q)}}}k&&(await de({tagName:z,imageUrl:P,title:E,desc:W,content:L,suggestionPrompts:A.filter(j=>j.content!==""),categories:Object.keys(v).filter(j=>v[j])}),await dl("/modelfiles"))}t(0,b=!1),k=!1};function G(h){kl[h?"unshift":"push"](()=>{T=h,t(1,T)})}function Ie(){I=this.files,t(2,I)}const Be=()=>{let h=new FileReader;h.onload=j=>{let K=`${j.target.result}`;const Z=new Image;Z.src=K,Z.onload=function(){const q=document.createElement("canvas"),ne=q.getContext("2d"),M=Z.width/Z.height;let se,S;M>1?(se=100*M,S=100):(se=100,S=100/M),q.width=100,q.height=100;const Ve=(100-se)/2,Oe=(100-S)/2;ne.drawImage(Z,Ve,Oe,se,S);const ae=q.toDataURL("image/jpeg");t(3,P=ae),t(2,I=null)}},I&&I.length>0&&["image/gif","image/jpeg","image/png"].includes(I[0].type)?h.readAsDataURL(I[0]):(console.log(`Unsupported File Type '${I[0].type}'.`),t(2,I=null))},te=()=>{history.back()},le=()=>{T.click()};function oe(){E=this.value,t(6,E)}function ge(){W=this.value,t(8,W)}function De(){L=this.value,t(9,L)}const Le=()=>{(A.length===0||A.at(-1).content!=="")&&t(10,A=[...A,{content:""}])};function Se(h,j){h[j].content=this.value,t(10,A)}const me=h=>{A.splice(h,1),t(10,A)};function Y(h){v[h]=this.checked,t(11,v)}return[b,T,I,P,V,p,E,z,W,L,A,v,y,D,re,G,Ie,Be,te,le,oe,ge,De,Le,Se,me,Y,()=>{re()}]}class Fl extends El{constructor(s){super(),Il(this,s,Al,jl,_l,{},null,[-1,-1])}}export{Fl as component};
